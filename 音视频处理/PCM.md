参考[维基百科](https://zh.wikipedia.org/wiki/%E8%84%88%E8%A1%9D%E7%B7%A8%E7%A2%BC%E8%AA%BF%E8%AE%8A)和[百度百科](https://baike.baidu.com/item/PCM/1568054?fr=aladdin)以及其他资料对PCM进行总结，没有特别深入到细节，目的是让大家对PCM有一个总体的认识。

## 1.PCM是什么

**脉冲编码调制**（英文：**Pulse-code modulation**，缩写：**PCM**）是一种模拟信号的数字化方法。

PCM将信号的强度依照同样的间距分成数段，然后用独特的数字记号（通常是二进制）来量化。PCM常被用于数字电信系统上。

## 2.PCM工作原理

工作过程包括 抽样、量化、编码。

- 抽样 
就是对模拟信号进行周期性扫描，把时间上连续的信号变成时间上离散的信号，抽样必须遵循[奈奎斯特抽样定理](https://baike.baidu.com/item/%E9%87%87%E6%A0%B7%E5%AE%9A%E7%90%86/8599843?fr=aladdin)。抽样的频率就是[采样率](https://baike.baidu.com/item/%E9%87%87%E6%A0%B7%E9%A2%91%E7%8E%87)。

- 量化
就是把经过抽样得到的瞬时值将其幅度离散，即用一组规定的电平，把瞬时抽样值用最接近的电平值来表示,通常是用二进制表示。

- 编码
就是用一组二进制码组来表示每一个有固定电平的量化值。然而，实际上量化是在编码过程中同时完成的，故编码过程也称为模/数变换，可记作A/D。

这三个过程也可称为调制。

![](https://github.com/sparkfengbo/AndroidNotes/blob/master/PictureRes/live/pcm1.png?raw=true)

**举例：**

在图标中，一个正弦波（红色曲线）被取样和量化为PCM。正弦波在每段固定时间内被取一次样，即x轴的刻度。而每一个样本则依照某种运算法，选定它们在y轴上的位置。这样便产生完全离散的输入信号的替代物，很容易编码成为数字数据，以作保存或操纵。以上图为例，很清楚看出样本为8、9、11、12、13、14、15、15、15、14…等，将它们以二进制编码，就得到一组一组的数字：1000、1001、1011、1100、1101、1110、1111、1111、1111、1110…等，这些数字数据之后就可以被特定用途的[DSP](https://zh.wikipedia.org/wiki/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E5%99%A8)或者一般的CPU所处理。

## 3.PCM格式
我们在设备中的录音等声音采集就是基于PCM，很多应用会将一般的录音数据保存为后缀为.pcm为PCM格式文件。

PCM音频数据是未经压缩的音频采样数据裸流，如果是单声道的文件，采样数据按时间的先后顺序依次存入。(它的基本组织单位是BYTE(8bit)或WORD(16bit))。
如果是双声道的话就按照LRLRLR的方式存储，存储的时候还和机器的大小端有关。大端模式如下图所示：

![image.png](https://github.com/sparkfengbo/AndroidNotes/blob/master/PictureRes/live/pcm2.png?raw=true)

此处参考[多媒体基础知识之PCM数据](http://www.cnblogs.com/CoderTian/p/6657844.html)，具体操作PCM文件的例子参考[雷霄骅：视音频数据处理入门：PCM音频采样数据处理](http://blog.csdn.net/leixiaohua1020/article/details/50534316)。


对于单声道声音文件，采样数据为八位的短整数（short int 00H-FFH）；
     而对于双声道立体声声音文件，每次采样数据为一个16位的整数（int），高八位(左声道)和低八位(右声道)分别代表两个声道。

--------
## 其他基本知识

- 采样率
[音频采样率](https://baike.baidu.com/item/%E9%9F%B3%E9%A2%91%E9%87%87%E6%A0%B7%E7%8E%87/9023551?fr=aladdin)是指录音设备在一秒钟内对声音信号的采样次数，采样频率越高声音的还原就越真实越自然。在当今的主流采集卡上，采样频率一般共分为22.05KHz、44.1KHz、48KHz三个等级，22.05KHz只能达到FM广播的声音品质，44.1KHz则是理论上的CD音质界限，48KHz则更加精确一些。

- 采样位数
 采样的位数指的是描述数字信号所使用的位数。

- 码率
码率也叫[比特率](https://baike.baidu.com/item/%E6%AF%94%E7%89%B9%E7%8E%87)，是指每秒传送的比特(bit)数。

计算：码率=采样率值×采样大小值×声道数 bps。

已知音频采样率是8kHz，采样的位数是16bit，时长20ms双声道，音频大小是：`20ms * 8kHz *16bit * 2= 640B`。



